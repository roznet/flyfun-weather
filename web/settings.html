<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeatherBrief â€” Settings</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <div class="page-header">
      <h1>Settings</h1>
      <div id="user-info" class="user-info"></div>
    </div>

    <div id="status-message" style="display:none;"></div>

    <form id="settings-form">
      <!-- Flight defaults -->
      <div class="section">
        <h3>Flight Defaults</h3>
        <p class="muted" style="margin-bottom:0.75rem;">These values are used when creating new flights if not specified.</p>
        <div class="form-row">
          <div class="form-group">
            <label for="input-altitude">Cruise Altitude (ft)</label>
            <input type="number" id="input-altitude" value="8000" min="1000" max="45000" step="500" style="width:120px">
          </div>
          <div class="form-group">
            <label for="input-ceiling">Flight Ceiling (ft)</label>
            <input type="number" id="input-ceiling" value="18000" min="1000" max="45000" step="500" style="width:120px">
          </div>
        </div>

        <div class="form-group" style="margin-top:0.5rem;">
          <label>Forecast Models</label>
          <div class="form-row" style="gap:1.5rem; margin-bottom:0;">
            <label class="checkbox-label">
              <input type="checkbox" id="model-gfs" checked> GFS
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="model-ecmwf" checked> ECMWF
            </label>
            <label class="checkbox-label">
              <input type="checkbox" id="model-icon" checked> ICON
            </label>
          </div>
        </div>
      </div>

      <!-- Autorouter credentials -->
      <div class="section">
        <h3>Autorouter (GRAMET) Credentials</h3>
        <p class="muted" style="margin-bottom:0.75rem;">
          Enter your <a href="https://www.autorouter.aero" target="_blank">autorouter.aero</a>
          credentials to enable GRAMET cross-section charts. Credentials are encrypted at rest.
        </p>
        <div style="margin-bottom:0.75rem;">
          Status: <span id="ar-status-badge" class="badge badge-none">Not set</span>
          <button type="button" id="clear-autorouter-btn" class="btn btn-danger" style="display:none; margin-left:0.5rem; font-size:0.75rem; padding:0.2rem 0.5rem;">Clear</button>
        </div>
        <div class="form-row">
          <div class="form-group grow">
            <label for="input-ar-username">Username</label>
            <input type="text" id="input-ar-username" placeholder="autorouter username" autocomplete="username">
          </div>
          <div class="form-group grow">
            <label for="input-ar-password">Password</label>
            <input type="password" id="input-ar-password" placeholder="autorouter password" autocomplete="new-password">
          </div>
        </div>
      </div>

      <div class="form-row" style="gap:0.75rem;">
        <button type="submit" class="btn btn-primary">Save Settings</button>
        <a href="/" class="btn btn-secondary">Back to Flights</a>
      </div>
    </form>
  </div>

  <script src="/dist/settings.js"></script>
</body>
</html>
