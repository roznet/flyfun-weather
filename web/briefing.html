<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeatherBrief â€” Briefing</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <div class="page-header" style="padding-bottom: 0.5rem;">
      <div></div>
      <div class="header-right">
        <a href="/settings.html" class="btn-settings" title="Settings">Settings</a>
        <div id="user-info" class="user-info"></div>
      </div>
    </div>

    <!-- Toolbar: back, route info, refresh, history -->
    <div class="briefing-toolbar">
      <button id="back-btn" class="btn btn-secondary">&larr; Flights</button>
      <div id="briefing-header"></div>
      <button id="refresh-btn" class="btn btn-primary">Refresh</button>
      <button id="pdf-btn" class="btn btn-secondary">Download PDF</button>
      <button id="email-btn" class="btn btn-secondary">Send Email</button>
      <div class="display-mode-toggle" id="display-mode-toggle">
        <button class="btn-toggle" data-mode="compact">Compact</button>
        <button class="btn-toggle active" data-mode="annotated">Annotated</button>
      </div>
      <select id="history-select">
        <option>Loading...</option>
      </select>
    </div>

    <div id="freshness-bar" class="freshness-bar" style="display: none;"></div>

    <div id="error-message"></div>

    <!-- Assessment banner -->
    <div id="assessment-banner" class="assessment-banner assessment-none">
      Loading...
    </div>

    <!-- Route Advisories -->
    <div id="advisories-wrapper" class="section collapsible" data-section="advisories" style="display: none;">
      <h3>Route Advisories</h3>
      <div class="section-body">
        <div id="advisories-section">
          <p class="muted">Loading...</p>
        </div>
      </div>
    </div>

    <!-- Synopsis -->
    <div class="section collapsible" data-section="synopsis">
      <h3>Synopsis</h3>
      <div class="section-body">
        <div id="synopsis-section">
          <p class="muted">Loading...</p>
        </div>
      </div>
    </div>

    <!-- GRAMET -->
    <div class="section collapsible" data-section="gramet">
      <h3>GRAMET Cross-Section</h3>
      <div class="section-body">
        <div id="gramet-section">
          <p class="muted">Loading...</p>
        </div>
      </div>
    </div>

    <!-- Cross-Section Visualization -->
    <div id="viz-section" class="section collapsible" data-section="cross-section" style="display: none;">
      <h3>Cross-Section</h3>
      <div class="section-body">
        <div id="viz-controls" class="viz-controls"></div>
        <div id="viz-canvas-container" class="viz-canvas-container"></div>
      </div>
    </div>

    <!-- Skew-T -->
    <div class="section collapsible" data-section="skewt">
      <h3>Skew-T Soundings</h3>
      <div class="section-body">
        <div class="model-toggle">
          <label for="model-select">Model:</label>
          <select id="model-select">
            <option value="gfs">GFS</option>
            <option value="ecmwf" selected>ECMWF</option>
            <option value="icon">ICON</option>
          </select>
        </div>
        <div id="skewt-section">
          <p class="muted">Loading...</p>
        </div>
      </div>
    </div>

    <!-- Route Slider -->
    <div id="route-slider-section" class="section collapsible" data-section="route-slider" style="display: none;">
      <h3>Route Profile</h3>
      <div class="section-body">
        <div id="route-slider-container"></div>
      </div>
    </div>

    <!-- Sounding Analysis -->
    <div class="section collapsible" data-section="sounding">
      <h3>Sounding Analysis</h3>
      <div class="section-body">
        <div id="sounding-section">
          <p class="muted">Loading...</p>
        </div>
      </div>
    </div>

    <!-- Model Comparison -->
    <div class="section collapsible" data-section="comparison">
      <h3>Model Comparison</h3>
      <div class="section-body">
        <div id="comparison-section">
          <p class="muted">Loading...</p>
        </div>
      </div>
    </div>

    <!-- Loading overlay -->
    <div id="loading-overlay">Loading briefing...</div>
  </div>

  <!-- Image lightbox -->
  <div id="lightbox" class="lightbox">
    <img id="lightbox-img" src="" alt="Enlarged view">
  </div>

  <script src="/dist/briefing.js"></script>
</body>
</html>
