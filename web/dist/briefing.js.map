{
  "version": 3,
  "sources": ["../node_modules/zustand/esm/vanilla.mjs", "../ts/adapters/api-adapter.ts", "../ts/store/briefing-store.ts", "../ts/managers/briefing-ui.ts", "../ts/briefing-main.ts"],
  "sourcesContent": ["const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n", "/** API communication layer \u2014 all backend calls go through here. */\n\nimport type {\n  CreateFlightRequest,\n  FlightResponse,\n  ForecastSnapshot,\n  PackMeta,\n  RouteInfo,\n} from '../store/types';\n\nconst API_BASE = '/api';\n\nasync function apiFetch<T>(path: string, init?: RequestInit): Promise<T> {\n  const resp = await fetch(`${API_BASE}${path}`, {\n    headers: { 'Content-Type': 'application/json', ...init?.headers },\n    ...init,\n  });\n  if (!resp.ok) {\n    const body = await resp.text();\n    let detail: string;\n    try {\n      detail = JSON.parse(body).detail || body;\n    } catch {\n      detail = body;\n    }\n    throw new Error(`API ${resp.status}: ${detail}`);\n  }\n  if (resp.status === 204) return undefined as T;\n  return resp.json();\n}\n\n// --- Routes ---\n\nexport async function fetchRoutes(): Promise<RouteInfo[]> {\n  return apiFetch<RouteInfo[]>('/routes');\n}\n\nexport async function fetchRoute(name: string): Promise<RouteInfo> {\n  return apiFetch<RouteInfo>(`/routes/${encodeURIComponent(name)}`);\n}\n\n// --- Flights ---\n\nexport async function fetchFlights(): Promise<FlightResponse[]> {\n  return apiFetch<FlightResponse[]>('/flights');\n}\n\nexport async function fetchFlight(id: string): Promise<FlightResponse> {\n  return apiFetch<FlightResponse>(`/flights/${encodeURIComponent(id)}`);\n}\n\nexport async function createFlight(req: CreateFlightRequest): Promise<FlightResponse> {\n  return apiFetch<FlightResponse>('/flights', {\n    method: 'POST',\n    body: JSON.stringify(req),\n  });\n}\n\nexport async function deleteFlight(id: string): Promise<void> {\n  return apiFetch<void>(`/flights/${encodeURIComponent(id)}`, {\n    method: 'DELETE',\n  });\n}\n\n// --- Packs ---\n\nexport async function fetchPacks(flightId: string): Promise<PackMeta[]> {\n  return apiFetch<PackMeta[]>(`/flights/${encodeURIComponent(flightId)}/packs`);\n}\n\nexport async function fetchLatestPack(flightId: string): Promise<PackMeta> {\n  return apiFetch<PackMeta>(`/flights/${encodeURIComponent(flightId)}/packs/latest`);\n}\n\nexport async function fetchPack(flightId: string, timestamp: string): Promise<PackMeta> {\n  return apiFetch<PackMeta>(\n    `/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}`\n  );\n}\n\nexport async function refreshBriefing(flightId: string): Promise<PackMeta> {\n  return apiFetch<PackMeta>(\n    `/flights/${encodeURIComponent(flightId)}/packs/refresh`,\n    { method: 'POST' }\n  );\n}\n\nexport async function fetchSnapshot(\n  flightId: string,\n  timestamp: string\n): Promise<ForecastSnapshot> {\n  return apiFetch<ForecastSnapshot>(\n    `/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/snapshot`\n  );\n}\n\n// --- Artifact URLs (for <img> src, etc.) ---\n\nexport function grametUrl(flightId: string, timestamp: string): string {\n  return `${API_BASE}/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/gramet`;\n}\n\nexport function skewtUrl(\n  flightId: string,\n  timestamp: string,\n  icao: string,\n  model: string\n): string {\n  return `${API_BASE}/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/skewt/${encodeURIComponent(icao)}/${encodeURIComponent(model)}`;\n}\n\nexport function digestUrl(flightId: string, timestamp: string): string {\n  return `${API_BASE}/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/digest`;\n}\n\nexport function digestJsonUrl(flightId: string, timestamp: string): string {\n  return `${API_BASE}/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/digest/json`;\n}\n\n// --- Report ---\n\nexport function reportPdfUrl(flightId: string, timestamp: string): string {\n  return `${API_BASE}/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/report.pdf`;\n}\n\n// --- Email ---\n\nexport async function sendEmail(flightId: string, timestamp: string): Promise<void> {\n  return apiFetch<void>(\n    `/flights/${encodeURIComponent(flightId)}/packs/${encodeURIComponent(timestamp)}/email`,\n    { method: 'POST' }\n  );\n}\n", "/** Zustand vanilla store for the Briefing report page. */\n\nimport { createStore } from 'zustand/vanilla';\nimport type { FlightResponse, ForecastSnapshot, PackMeta, WeatherDigest } from './types';\nimport * as api from '../adapters/api-adapter';\n\nexport interface BriefingState {\n  // Data\n  flight: FlightResponse | null;\n  packs: PackMeta[];\n  currentPack: PackMeta | null;\n  snapshot: ForecastSnapshot | null;\n  digest: WeatherDigest | null;\n\n  // UI state\n  selectedModel: string;\n  loading: boolean;\n  refreshing: boolean;\n  emailing: boolean;\n  error: string | null;\n\n  // Actions\n  loadFlight: (id: string) => Promise<void>;\n  loadPacks: () => Promise<void>;\n  selectPack: (timestamp: string) => Promise<void>;\n  selectLatest: () => Promise<void>;\n  refresh: () => Promise<void>;\n  setSelectedModel: (model: string) => void;\n  sendEmail: () => Promise<void>;\n}\n\nexport const briefingStore = createStore<BriefingState>((set, get) => ({\n  flight: null,\n  packs: [],\n  currentPack: null,\n  snapshot: null,\n  digest: null,\n  selectedModel: 'ecmwf',\n  loading: false,\n  refreshing: false,\n  emailing: false,\n  error: null,\n\n  loadFlight: async (id: string) => {\n    set({ loading: true, error: null });\n    try {\n      const flight = await api.fetchFlight(id);\n      set({ flight, loading: false });\n      await get().loadPacks();\n      await get().selectLatest();\n    } catch (err) {\n      set({ loading: false, error: `Failed to load flight: ${err}` });\n    }\n  },\n\n  loadPacks: async () => {\n    const flight = get().flight;\n    if (!flight) return;\n    try {\n      const packs = await api.fetchPacks(flight.id);\n      set({ packs });\n    } catch (err) {\n      set({ error: `Failed to load packs: ${err}` });\n    }\n  },\n\n  selectPack: async (timestamp: string) => {\n    const flight = get().flight;\n    if (!flight) return;\n    set({ loading: true, error: null });\n    try {\n      const pack = await api.fetchPack(flight.id, timestamp);\n      let snapshot: ForecastSnapshot | null = null;\n      let digest: WeatherDigest | null = null;\n      try {\n        snapshot = await api.fetchSnapshot(flight.id, timestamp);\n      } catch {\n        // Snapshot may not be available\n      }\n      if (pack.has_digest) {\n        try {\n          const url = api.digestJsonUrl(flight.id, timestamp);\n          const resp = await fetch(url);\n          if (resp.ok) digest = await resp.json();\n        } catch {\n          // Digest fetch is non-critical\n        }\n      }\n      set({ currentPack: pack, snapshot, digest, loading: false });\n    } catch (err) {\n      set({ loading: false, error: `Failed to load pack: ${err}` });\n    }\n  },\n\n  selectLatest: async () => {\n    const { packs } = get();\n    if (packs.length > 0) {\n      await get().selectPack(packs[0].fetch_timestamp);\n    }\n  },\n\n  refresh: async () => {\n    const flight = get().flight;\n    if (!flight) return;\n    set({ refreshing: true, error: null });\n    try {\n      const newPack = await api.refreshBriefing(flight.id);\n      await get().loadPacks();\n      await get().selectPack(newPack.fetch_timestamp);\n      set({ refreshing: false });\n    } catch (err) {\n      set({ refreshing: false, error: `Refresh failed: ${err}` });\n    }\n  },\n\n  setSelectedModel: (model: string) => {\n    set({ selectedModel: model });\n  },\n\n  sendEmail: async () => {\n    const { flight, currentPack } = get();\n    if (!flight || !currentPack) return;\n    set({ emailing: true, error: null });\n    try {\n      await api.sendEmail(flight.id, currentPack.fetch_timestamp);\n      set({ emailing: false });\n    } catch (err) {\n      set({ emailing: false, error: `Email failed: ${err}` });\n    }\n  },\n}));\n", "/** DOM management for the Briefing report page.\n *\n * Renders all sections: header, assessment, synopsis, GRAMET,\n * model comparison, and Skew-T route view.\n */\n\nimport type {\n  AltitudeAdvisories,\n  ConvectiveRisk,\n  FlightResponse,\n  ForecastSnapshot,\n  IcingRisk,\n  PackMeta,\n  SoundingAnalysis,\n  VerticalRegime,\n  WaypointAnalysis,\n  WeatherDigest,\n} from '../store/types';\nimport * as api from '../adapters/api-adapter';\n\nfunction $(id: string): HTMLElement {\n  return document.getElementById(id)!;\n}\n\n// --- Header ---\n\nexport function renderHeader(\n  flight: FlightResponse | null,\n  snapshot: ForecastSnapshot | null,\n): void {\n  const el = $('briefing-header');\n  if (!el || !flight) return;\n\n  // Use snapshot waypoints if available, otherwise derive from route name\n  let routeStr: string;\n  if (snapshot?.route?.waypoints) {\n    routeStr = snapshot.route.waypoints.map((w) => w.icao).join(' \\u2192 ');\n  } else if (flight.waypoints?.length) {\n    routeStr = flight.waypoints.join(' \\u2192 ');\n  } else {\n    routeStr = flight.route_name.replace(/_/g, ' \\u2192 ').toUpperCase();\n  }\n\n  const date = new Date(flight.target_date + 'T00:00:00Z');\n  const dateStr = date.toLocaleDateString('en-GB', {\n    weekday: 'short', day: 'numeric', month: 'short', year: 'numeric',\n    timeZone: 'UTC',\n  });\n  const timeStr = `${flight.target_time_utc.toString().padStart(2, '0')}00Z`;\n  const alt = flight.cruise_altitude_ft >= 10000\n    ? `FL${Math.round(flight.cruise_altitude_ft / 100)}`\n    : `${flight.cruise_altitude_ft}ft`;\n\n  el.innerHTML = `\n    <span class=\"route-summary\">${routeStr}</span>\n    <span class=\"date-summary\">${dateStr} ${timeStr}</span>\n    <span class=\"alt-summary\">${alt}</span>\n  `;\n}\n\n// --- History dropdown ---\n\nexport function renderHistoryDropdown(\n  packs: PackMeta[],\n  currentTimestamp: string | null,\n  onSelect: (ts: string) => void,\n): void {\n  const select = $('history-select') as HTMLSelectElement;\n  if (!select) return;\n\n  select.innerHTML = packs.length === 0\n    ? '<option>No briefings yet</option>'\n    : packs.map((p) => {\n        const date = new Date(p.fetch_timestamp);\n        const label = `D-${p.days_out} (${date.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', hour: '2-digit', minute: '2-digit', timeZone: 'UTC' })} UTC)`;\n        const selected = p.fetch_timestamp === currentTimestamp ? ' selected' : '';\n        return `<option value=\"${p.fetch_timestamp}\"${selected}>${label}</option>`;\n      }).join('');\n\n  // Wire change event (remove old listener by replacing element)\n  const newSelect = select.cloneNode(true) as HTMLSelectElement;\n  select.parentNode!.replaceChild(newSelect, select);\n  newSelect.addEventListener('change', () => {\n    onSelect(newSelect.value);\n  });\n}\n\n// --- Assessment banner ---\n\nexport function renderAssessment(pack: PackMeta | null): void {\n  const el = $('assessment-banner');\n  if (!el) return;\n\n  if (!pack || !pack.assessment) {\n    el.className = 'assessment-banner assessment-none';\n    el.textContent = 'No assessment available';\n    return;\n  }\n\n  const level = pack.assessment.toUpperCase();\n  el.className = `assessment-banner assessment-${level.toLowerCase()}`;\n  el.innerHTML = `\n    <strong>${level}</strong>${pack.assessment_reason ? ` \\u2014 ${pack.assessment_reason}` : ''}\n  `;\n}\n\n// --- Synopsis (structured digest) ---\n\nconst DIGEST_SECTIONS: Array<{ key: keyof WeatherDigest; label: string; icon: string }> = [\n  { key: 'synoptic', label: 'Synoptic', icon: '\\uD83C\\uDF0D' },\n  { key: 'winds', label: 'Winds', icon: '\\uD83D\\uDCA8' },\n  { key: 'cloud_visibility', label: 'Cloud & Visibility', icon: '\\u2601\\uFE0F' },\n  { key: 'precipitation_convection', label: 'Precipitation & Convection', icon: '\\uD83C\\uDF27\\uFE0F' },\n  { key: 'icing', label: 'Icing', icon: '\\u2744\\uFE0F' },\n  { key: 'specific_concerns', label: 'Specific Concerns', icon: '\\u26A0\\uFE0F' },\n  { key: 'model_agreement', label: 'Model Agreement', icon: '\\uD83D\\uDCCA' },\n  { key: 'trend', label: 'Trend', icon: '\\uD83D\\uDCC8' },\n  { key: 'watch_items', label: 'Watch Items', icon: '\\uD83D\\uDC41\\uFE0F' },\n];\n\nexport function renderSynopsis(\n  flight: FlightResponse | null,\n  pack: PackMeta | null,\n  digest: WeatherDigest | null,\n): void {\n  const el = $('synopsis-section');\n  if (!el) return;\n\n  if (!flight || !pack) {\n    el.innerHTML = '<p class=\"muted\">No briefing loaded.</p>';\n    return;\n  }\n\n  if (digest) {\n    el.innerHTML = DIGEST_SECTIONS.map(({ key, label, icon }) => {\n      const text = digest[key];\n      if (!text) return '';\n      return `\n        <div class=\"digest-section\">\n          <h4>${icon} ${label}</h4>\n          <p>${escapeHtml(text as string)}</p>\n        </div>\n      `;\n    }).join('');\n    return;\n  }\n\n  if (pack.has_digest) {\n    el.innerHTML = '<p class=\"muted\">Loading digest...</p>';\n    fetchAndRenderDigestJson(flight.id, pack.fetch_timestamp, el);\n    return;\n  }\n\n  el.innerHTML = '<p class=\"muted\">Synopsis not available. Trigger a refresh to generate.</p>';\n}\n\nasync function fetchAndRenderDigestJson(\n  flightId: string, timestamp: string, el: HTMLElement,\n): Promise<void> {\n  try {\n    const url = api.digestJsonUrl(flightId, timestamp);\n    const resp = await fetch(url);\n    if (!resp.ok) throw new Error(`${resp.status}`);\n    const digest: WeatherDigest = await resp.json();\n\n    el.innerHTML = DIGEST_SECTIONS.map(({ key, label, icon }) => {\n      const text = digest[key];\n      if (!text) return '';\n      return `\n        <div class=\"digest-section\">\n          <h4>${icon} ${label}</h4>\n          <p>${escapeHtml(text as string)}</p>\n        </div>\n      `;\n    }).join('');\n  } catch {\n    el.innerHTML = '<p class=\"muted\">Failed to load digest.</p>';\n  }\n}\n\nfunction escapeHtml(text: string): string {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n}\n\n// --- GRAMET ---\n\nexport function renderGramet(\n  flight: FlightResponse | null,\n  pack: PackMeta | null,\n): void {\n  const el = $('gramet-section');\n  if (!el) return;\n\n  if (!flight || !pack || !pack.has_gramet) {\n    el.innerHTML = '<p class=\"muted\">GRAMET not available for this briefing.</p>';\n    return;\n  }\n\n  const url = api.grametUrl(flight.id, pack.fetch_timestamp);\n  el.innerHTML = `\n    <img src=\"${url}\" alt=\"GRAMET cross-section\" class=\"gramet-img\" loading=\"lazy\">\n  `;\n}\n\n// --- Model Comparison ---\n\nexport function renderModelComparison(snapshot: ForecastSnapshot | null): void {\n  const el = $('comparison-section');\n  if (!el) return;\n\n  if (!snapshot || snapshot.analyses.length === 0) {\n    el.innerHTML = '<p class=\"muted\">No model comparison data available.</p>';\n    return;\n  }\n\n  // Render comparison tables for each waypoint\n  el.innerHTML = snapshot.analyses.map((a) => {\n    if (a.model_divergence.length === 0) return '';\n\n    const models = Object.keys(a.model_divergence[0]?.model_values || {});\n    const headerCells = models.map((m) => `<th>${m.toUpperCase()}</th>`).join('');\n\n    const rows = a.model_divergence.map((d) => {\n      const valueCells = models.map((m) => {\n        const val = d.model_values[m];\n        return `<td>${val !== undefined ? val.toFixed(1) : '\\u2014'}</td>`;\n      }).join('');\n      const agreeIcon = d.agreement === 'good' ? '&#10003;'\n        : d.agreement === 'moderate' ? '&#9888;' : '&#10007;';\n      const agreeClass = `agree-${d.agreement}`;\n      return `\n        <tr>\n          <td class=\"var-name\">${formatVarName(d.variable)}</td>\n          ${valueCells}\n          <td>${d.spread.toFixed(1)}</td>\n          <td class=\"${agreeClass}\">${agreeIcon}</td>\n        </tr>\n      `;\n    }).join('');\n\n    return `\n      <div class=\"comparison-waypoint\">\n        <h4>${a.waypoint.icao} \\u2014 ${a.waypoint.name}</h4>\n        <table class=\"comparison-table\">\n          <thead>\n            <tr>\n              <th>Variable</th>\n              ${headerCells}\n              <th>Spread</th>\n              <th>Agree</th>\n            </tr>\n          </thead>\n          <tbody>${rows}</tbody>\n        </table>\n      </div>\n    `;\n  }).join('');\n}\n\nfunction formatVarName(name: string): string {\n  const labels: Record<string, string> = {\n    'temperature_c': 'Temp (\\u00B0C)',\n    'wind_speed_kt': 'Wind (kt)',\n    'wind_direction_deg': 'Wind dir (\\u00B0)',\n    'cloud_cover_pct': 'Cloud (%)',\n    'precipitation_mm': 'Precip (mm)',\n    'freezing_level_m': 'Freezing (m)',\n    'freezing_level_ft': 'Freezing (ft)',\n    'cape_surface_jkg': 'CAPE (J/kg)',\n    'lcl_altitude_ft': 'LCL (ft)',\n    'k_index': 'K-index',\n    'total_totals': 'Total Totals',\n    'precipitable_water_mm': 'PW (mm)',\n    'lifted_index': 'Lifted Index',\n    'bulk_shear_0_6km_kt': 'Shear 0-6km (kt)',\n  };\n  return labels[name] || name;\n}\n\n// --- Sounding Analysis ---\n\nconst RISK_COLORS: Record<string, string> = {\n  none: '',\n  light: 'risk-light',\n  low: 'risk-light',\n  moderate: 'risk-moderate',\n  high: 'risk-high',\n  severe: 'risk-severe',\n  extreme: 'risk-severe',\n};\n\nfunction riskClass(risk: string): string {\n  return RISK_COLORS[risk] || '';\n}\n\nexport function renderSoundingAnalysis(snapshot: ForecastSnapshot | null): void {\n  const el = $('sounding-section');\n  if (!el) return;\n\n  if (!snapshot || snapshot.analyses.length === 0) {\n    el.innerHTML = '<p class=\"muted\">No sounding analysis available.</p>';\n    return;\n  }\n\n  const hasSounding = snapshot.analyses.some(\n    (a) => a.sounding && Object.keys(a.sounding).length > 0,\n  );\n  if (!hasSounding) {\n    el.innerHTML = '<p class=\"muted\">Sounding analysis not available for this briefing.</p>';\n    return;\n  }\n\n  el.innerHTML = snapshot.analyses.map((a) => {\n    if (!a.sounding || Object.keys(a.sounding).length === 0) return '';\n    return `\n      <div class=\"sounding-waypoint\">\n        <h4>${a.waypoint.icao} \\u2014 ${a.waypoint.name}</h4>\n        ${renderConvectiveBanner(a.sounding)}\n        ${renderAltitudeMarkers(a.sounding)}\n        ${renderIcingZones(a.sounding)}\n        ${renderEnhancedClouds(a.sounding)}\n        ${renderAltitudeAdvisories(a.altitude_advisories)}\n      </div>\n    `;\n  }).join('');\n}\n\nfunction renderConvectiveBanner(soundings: Record<string, SoundingAnalysis>): string {\n  const risks: string[] = [];\n  for (const [model, sa] of Object.entries(soundings)) {\n    if (sa.convective && sa.convective.risk_level !== 'none') {\n      const mods = sa.convective.severe_modifiers.length > 0\n        ? ` (${sa.convective.severe_modifiers.join('; ')})`\n        : '';\n      risks.push(`<span class=\"${riskClass(sa.convective.risk_level)}\">[${model}] ${sa.convective.risk_level.toUpperCase()}${mods}</span>`);\n    }\n  }\n  if (risks.length === 0) return '';\n  return `<div class=\"convective-banner\">Convective: ${risks.join(' ')}</div>`;\n}\n\nfunction renderAltitudeMarkers(soundings: Record<string, SoundingAnalysis>): string {\n  const rows: string[] = [];\n  for (const [model, sa] of Object.entries(soundings)) {\n    if (!sa.indices) continue;\n    const idx = sa.indices;\n    const parts: string[] = [];\n    if (idx.freezing_level_ft != null) parts.push(`0\\u00B0C: ${idx.freezing_level_ft.toFixed(0)}ft`);\n    if (idx.minus10c_level_ft != null) parts.push(`-10\\u00B0C: ${idx.minus10c_level_ft.toFixed(0)}ft`);\n    if (idx.minus20c_level_ft != null) parts.push(`-20\\u00B0C: ${idx.minus20c_level_ft.toFixed(0)}ft`);\n    if (idx.lcl_altitude_ft != null) parts.push(`LCL: ${idx.lcl_altitude_ft.toFixed(0)}ft`);\n    if (parts.length > 0) {\n      rows.push(`<div class=\"marker-row\"><strong>${model}</strong>: ${parts.join(' | ')}</div>`);\n    }\n  }\n  if (rows.length === 0) return '';\n  return `<div class=\"altitude-markers\"><h5>Key Altitudes</h5>${rows.join('')}</div>`;\n}\n\nfunction renderIcingZones(soundings: Record<string, SoundingAnalysis>): string {\n  const rows: string[] = [];\n  for (const [model, sa] of Object.entries(soundings)) {\n    for (const zone of sa.icing_zones) {\n      const sld = zone.sld_risk ? ' <span class=\"sld-badge\">SLD</span>' : '';\n      const tw = zone.mean_wet_bulb_c != null ? ` Tw=${zone.mean_wet_bulb_c.toFixed(0)}\\u00B0C` : '';\n      rows.push(\n        `<div class=\"icing-row ${riskClass(zone.risk)}\">` +\n        `[${model}] ${zone.risk.toUpperCase()} ${zone.icing_type} ` +\n        `${zone.base_ft.toFixed(0)}-${zone.top_ft.toFixed(0)}ft${tw}${sld}</div>`,\n      );\n    }\n  }\n  if (rows.length === 0) return '';\n  return `<div class=\"icing-zones\"><h5>Icing Zones</h5>${rows.join('')}</div>`;\n}\n\nfunction renderEnhancedClouds(soundings: Record<string, SoundingAnalysis>): string {\n  const rows: string[] = [];\n  for (const [model, sa] of Object.entries(soundings)) {\n    for (const cl of sa.cloud_layers) {\n      const t = cl.mean_temperature_c != null ? ` T=${cl.mean_temperature_c.toFixed(0)}\\u00B0C` : '';\n      rows.push(\n        `<div class=\"cloud-row\">[${model}] ${cl.coverage.toUpperCase()} ` +\n        `${cl.base_ft.toFixed(0)}-${cl.top_ft.toFixed(0)}ft${t}</div>`,\n      );\n    }\n  }\n  if (rows.length === 0) return '';\n  return `<div class=\"enhanced-clouds\"><h5>Cloud Layers</h5>${rows.join('')}</div>`;\n}\n\nfunction renderAltitudeAdvisories(adv: AltitudeAdvisories | null): string {\n  if (!adv) return '';\n\n  const parts: string[] = [];\n\n  // Cruise icing badge\n  if (adv.cruise_in_icing) {\n    parts.push(\n      `<div class=\"cruise-icing-banner ${riskClass(adv.cruise_icing_risk)}\">` +\n      `Cruise in icing: ${adv.cruise_icing_risk.toUpperCase()}</div>`,\n    );\n  }\n\n  // Per-model vertical regimes as columns\n  const models = Object.keys(adv.regimes);\n  if (models.length > 0) {\n    const headerCells = models.map((m) => `<th>${m.toUpperCase()}</th>`).join('');\n\n    // Collect all unique altitudes to build rows\n    const allAlts = new Set<number>();\n    for (const regimes of Object.values(adv.regimes)) {\n      for (const r of regimes) {\n        allAlts.add(r.floor_ft);\n        allAlts.add(r.ceiling_ft);\n      }\n    }\n    const sortedAlts = [...allAlts].sort((a, b) => b - a); // top-down\n\n    // Build regime rows: for each altitude pair, show each model's regime\n    const rows = sortedAlts.slice(0, -1).map((alt, i) => {\n      const nextAlt = sortedAlts[i + 1];\n      const midpoint = (alt + nextAlt) / 2;\n\n      const cells = models.map((m) => {\n        const regime = adv.regimes[m].find(\n          (r) => r.floor_ft <= midpoint && r.ceiling_ft >= midpoint,\n        );\n        if (!regime) return '<td>\\u2014</td>';\n        const cls = regime.icing_risk !== 'none' ? riskClass(regime.icing_risk) : '';\n        return `<td class=\"${cls}\">${escapeHtml(regime.label)}</td>`;\n      }).join('');\n\n      return `<tr><td class=\"var-name\">${nextAlt.toFixed(0)}-${alt.toFixed(0)}ft</td>${cells}</tr>`;\n    }).join('');\n\n    parts.push(`\n      <div class=\"regime-table-wrap\">\n        <h5>Vertical Profile</h5>\n        <table class=\"band-table\">\n          <thead><tr><th>Altitude</th>${headerCells}</tr></thead>\n          <tbody>${rows}</tbody>\n        </table>\n      </div>\n    `);\n  }\n\n  // Advisories\n  if (adv.advisories.length > 0) {\n    const advisoryHtml = adv.advisories.map((a) => {\n      const feasibleCls = a.feasible ? '' : ' advisory-infeasible';\n      const altStr = a.altitude_ft != null ? `${a.altitude_ft.toFixed(0)}ft` : '';\n      const modelParts = Object.entries(a.per_model_ft)\n        .map(([m, v]) => `${m}: ${v != null ? v.toFixed(0) + 'ft' : 'N/A'}`)\n        .join(', ');\n      return `\n        <div class=\"advisory-item${feasibleCls}\">\n          <strong>${escapeHtml(a.reason)}</strong>\n          ${!a.feasible ? ' <span class=\"advisory-badge\">INFEASIBLE</span>' : ''}\n          <div class=\"advisory-models\">${escapeHtml(modelParts)}</div>\n        </div>\n      `;\n    }).join('');\n    parts.push(`<div class=\"advisories-section\"><h5>Advisories</h5>${advisoryHtml}</div>`);\n  }\n\n  return parts.join('');\n}\n\n// --- Skew-T ---\n\nexport function renderSkewTs(\n  flight: FlightResponse | null,\n  pack: PackMeta | null,\n  snapshot: ForecastSnapshot | null,\n  selectedModel: string,\n): void {\n  const el = $('skewt-section');\n  if (!el) return;\n\n  if (!flight || !pack || !pack.has_skewt || !snapshot) {\n    el.innerHTML = '<p class=\"muted\">Skew-T diagrams not available.</p>';\n    return;\n  }\n\n  const waypoints = snapshot.route.waypoints;\n  el.innerHTML = `\n    <div class=\"skewt-gallery\">\n      ${waypoints.map((wp) => {\n        const url = api.skewtUrl(flight.id, pack.fetch_timestamp, wp.icao, selectedModel);\n        return `\n          <div class=\"skewt-card\">\n            <h4>${wp.icao}</h4>\n            <img src=\"${url}\" alt=\"Skew-T ${wp.icao} ${selectedModel}\"\n                 class=\"skewt-img\" loading=\"lazy\"\n                 onerror=\"this.parentElement.classList.add('skewt-unavailable')\">\n            <div class=\"skewt-fallback\">Not available</div>\n          </div>\n        `;\n      }).join('')}\n    </div>\n  `;\n}\n\n// --- Loading / Error ---\n\nexport function renderLoading(loading: boolean): void {\n  const el = $('loading-overlay');\n  if (el) el.style.display = loading ? 'flex' : 'none';\n}\n\nexport function renderRefreshing(refreshing: boolean): void {\n  const btn = $('refresh-btn') as HTMLButtonElement;\n  if (btn) {\n    btn.disabled = refreshing;\n    btn.textContent = refreshing ? 'Refreshing...' : 'Refresh';\n  }\n}\n\nexport function renderEmailing(emailing: boolean): void {\n  const btn = $('email-btn') as HTMLButtonElement;\n  if (btn) {\n    btn.disabled = emailing;\n    btn.textContent = emailing ? 'Sending...' : 'Send Email';\n  }\n}\n\nexport function renderError(error: string | null): void {\n  const el = $('error-message');\n  if (el) {\n    el.textContent = error || '';\n    el.style.display = error ? 'block' : 'none';\n  }\n}\n", "/** Briefing page entry point \u2014 wires store, UI manager, and event handlers. */\n\nimport { briefingStore } from './store/briefing-store';\nimport * as api from './adapters/api-adapter';\nimport * as ui from './managers/briefing-ui';\n\nfunction init(): void {\n  const store = briefingStore;\n\n  // Get flight ID from URL\n  const params = new URLSearchParams(window.location.search);\n  const flightId = params.get('flight');\n  if (!flightId) {\n    ui.renderError('No flight specified. Go back to flights list.');\n    return;\n  }\n\n  // --- Subscribe to state changes ---\n  store.subscribe((state, prev) => {\n    if (state.flight !== prev.flight || state.snapshot !== prev.snapshot) {\n      ui.renderHeader(state.flight, state.snapshot);\n    }\n    if (state.packs !== prev.packs || state.currentPack !== prev.currentPack) {\n      ui.renderHistoryDropdown(\n        state.packs,\n        state.currentPack?.fetch_timestamp || null,\n        (ts) => store.getState().selectPack(ts),\n      );\n    }\n    if (\n      state.currentPack !== prev.currentPack ||\n      state.snapshot !== prev.snapshot ||\n      state.digest !== prev.digest\n    ) {\n      ui.renderAssessment(state.currentPack);\n      ui.renderSynopsis(state.flight, state.currentPack, state.digest);\n      ui.renderGramet(state.flight, state.currentPack);\n      ui.renderSoundingAnalysis(state.snapshot);\n      ui.renderModelComparison(state.snapshot);\n      ui.renderSkewTs(state.flight, state.currentPack, state.snapshot, state.selectedModel);\n    }\n    if (state.selectedModel !== prev.selectedModel) {\n      ui.renderSkewTs(state.flight, state.currentPack, state.snapshot, state.selectedModel);\n    }\n    if (state.loading !== prev.loading) {\n      ui.renderLoading(state.loading);\n    }\n    if (state.refreshing !== prev.refreshing) {\n      ui.renderRefreshing(state.refreshing);\n    }\n    if (state.emailing !== prev.emailing) {\n      ui.renderEmailing(state.emailing);\n    }\n    if (state.error !== prev.error) {\n      ui.renderError(state.error);\n    }\n  });\n\n  // --- Wire refresh button ---\n  const refreshBtn = document.getElementById('refresh-btn');\n  if (refreshBtn) {\n    refreshBtn.addEventListener('click', () => {\n      store.getState().refresh();\n    });\n  }\n\n  // --- Wire PDF download button ---\n  const pdfBtn = document.getElementById('pdf-btn') as HTMLButtonElement;\n  if (pdfBtn) {\n    pdfBtn.addEventListener('click', () => {\n      const { flight, currentPack } = store.getState();\n      if (flight && currentPack) {\n        window.open(\n          api.reportPdfUrl(flight.id, currentPack.fetch_timestamp),\n          '_blank',\n        );\n      }\n    });\n  }\n\n  // --- Wire email button ---\n  const emailBtn = document.getElementById('email-btn') as HTMLButtonElement;\n  if (emailBtn) {\n    emailBtn.addEventListener('click', () => {\n      store.getState().sendEmail();\n    });\n  }\n\n  // --- Wire model toggle ---\n  const modelSelect = document.getElementById('model-select') as HTMLSelectElement;\n  if (modelSelect) {\n    modelSelect.addEventListener('change', () => {\n      store.getState().setSelectedModel(modelSelect.value);\n    });\n  }\n\n  // --- Wire back button ---\n  const backBtn = document.getElementById('back-btn');\n  if (backBtn) {\n    backBtn.addEventListener('click', () => {\n      window.location.href = '/';\n    });\n  }\n\n  // --- Wire image lightbox ---\n  const lightbox = document.getElementById('lightbox');\n  const lightboxImg = document.getElementById('lightbox-img') as HTMLImageElement;\n  if (lightbox && lightboxImg) {\n    document.addEventListener('click', (e) => {\n      const target = e.target as HTMLElement;\n      if (target.classList.contains('gramet-img') || target.classList.contains('skewt-img')) {\n        lightboxImg.src = (target as HTMLImageElement).src;\n        lightbox.classList.add('active');\n      }\n    });\n    lightbox.addEventListener('click', () => {\n      lightbox.classList.remove('active');\n      lightboxImg.src = '';\n    });\n  }\n\n  // --- Load flight data, then render even if no packs exist ---\n  store.getState().loadFlight(flightId).then(() => {\n    const s = store.getState();\n    ui.renderHeader(s.flight, s.snapshot);\n    ui.renderHistoryDropdown(s.packs, s.currentPack?.fetch_timestamp || null, (ts) => store.getState().selectPack(ts));\n    ui.renderAssessment(s.currentPack);\n    ui.renderSynopsis(s.flight, s.currentPack, s.digest);\n    ui.renderGramet(s.flight, s.currentPack);\n    ui.renderSoundingAnalysis(s.snapshot);\n    ui.renderModelComparison(s.snapshot);\n    ui.renderSkewTs(s.flight, s.currentPack, s.snapshot, s.selectedModel);\n    ui.renderLoading(s.loading);\n  });\n}\n\n// Boot\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', init);\n} else {\n  init();\n}\n"],
  "mappings": "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",
  "names": ["init"]
}
